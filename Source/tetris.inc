const rot:array[1..7,1..4] of fig=

(
 (
 ((0,0,1,0),      {   @@   }
  (0,0,1,0),      {   @@   }
  (0,0,1,0),      {   @@   }
  (0,0,1,0)),     {   @@   }
 ((0,0,0,0),
  (1,1,1,1),
  (0,0,0,0),
  (0,0,0,0)),
 ((0,0,1,0),
  (0,0,1,0),
  (0,0,1,0),
  (0,0,1,0)),
 ((0,0,0,0),
  (1,1,1,1),
  (0,0,0,0),
  (0,0,0,0))  ),
 (
 ((0,0,0,0),      {   @@@@ }
  (0,1,1,0),      {   @@   }
  (0,1,0,0),      {   @@   }
  (0,1,0,0)),     {   @@   }
 ((0,0,0,0),
  (0,1,0,0),
  (0,1,1,1),
  (0,0,0,0)),
 ((0,0,1,0),
  (0,0,1,0),
  (0,1,1,0),
  (0,0,0,0)),
 ((0,0,0,0),
  (1,1,1,0),
  (0,0,1,0),
  (0,0,0,0)) ),
 (
 ((0,0,0,0),      { @@@@   }
  (0,1,1,0),      {   @@   }
  (0,0,1,0),      {   @@   }
  (0,0,1,0)),     {   @@   }
 ((0,0,0,0),
  (0,1,1,1),
  (0,1,0,0),
  (0,0,0,0)),
 ((0,1,0,0),
  (0,1,0,0),
  (0,1,1,0),
  (0,0,0,0)),
 ((0,0,0,0),
  (0,0,1,0),
  (1,1,1,0),
  (0,0,0,0)) ),
 (
 ((0,0,0,0),      {        }
  (0,1,0,0),      { @@     }
  (0,1,1,0),      { @@@@   }
  (0,1,0,0)),     { @@     }
 ((0,0,0,0),
  (0,1,0,0),
  (1,1,1,0),
  (0,0,0,0)),
 ((0,0,0,0),
  (0,1,0,0),
  (1,1,0,0),
  (0,1,0,0)),
 ((0,0,0,0),
  (0,0,0,0),
  (1,1,1,0),
  (0,1,0,0)) ),
 (
 ((0,0,0,0),      {        }
  (0,1,0,0),      { @@     }
  (0,1,1,0),      { @@@@   }
  (0,0,1,0)),     {   @@   }
 ((0,0,0,0),
  (0,0,1,1),
  (0,1,1,0),
  (0,0,0,0)),
 ((0,0,0,0),
  (0,1,0,0),
  (0,1,1,0),
  (0,0,1,0)),
 ((0,0,0,0),
  (0,0,1,1),
  (0,1,1,0),
  (0,0,0,0)) ),
 (
 ((0,0,0,0),      {        }
  (0,0,1,0),      {   @@   }
  (0,1,1,0),      { @@@@   }
  (0,1,0,0)),     { @@     }
 ((0,0,0,0),
  (0,1,1,0),
  (0,0,1,1),
  (0,0,0,0)),
 ((0,0,0,0),
  (0,0,1,0),
  (0,1,1,0),
  (0,1,0,0)),
 ((0,0,0,0),
  (0,1,1,0),
  (0,0,1,1),
  (0,0,0,0)) ),
 (
 ((0,0,0,0),      {        }
  (0,0,0,0),      {        }
  (0,1,1,0),      { @@@@   }
  (0,1,1,0)),     { @@@@   }
 ((0,0,0,0),
  (0,0,0,0),
  (0,1,1,0),
  (0,1,1,0)),
 ((0,0,0,0),
  (0,0,0,0),
  (0,1,1,0),
  (0,1,1,0)),
 ((0,0,0,0),
  (0,0,0,0),
  (0,1,1,0),
  (0,1,1,0)) )
);
{
gameover:array[1..25] of string[80]=(
'                                                                               ',
'                                                                               ',
'                    ЬЬЬЬЬЬЬ                                                    ',
'                 ЬЫЫЯ    ЯЫЫЭ                                                  ',
'               ЬЫЫЫ        ЮЭ                                                  ',
'               ЫЫЫЭ             ЬЫЯЯЫЫЬ   ЯЫЫЫЬюЫЫЫЬЬюЫЫЫЭ   ЬЬЫЯЯЫЬ           ',
'              ЮЫЫЫЭ            ЮЫЫЭ ЮЫЫЭ   ЫЫЫЭ  ЫЫЫ   ЫЫЫ  ЮЫЫЭ  ЫЫЭ          ',
'               ЫЫЫЭ    ЯЯЫЫЫЯ    ЬЬЯЮЫЫЭ   ЫЫЫ   ЫЫЫ   ЫЫЫ  ЫЫЫЭЯЯЯЯ           ',
'               ЯЫЫЫ      ЫЫЫЭ  ЮЫЫЭ ЮЫЫЭ   ЫЫЫ   ЫЫЫ   ЫЫЫ  ЮЫЫЫ               ',
'                 ЯЯЫЬЬЬЬЫЫЫЭ   ЮЫЫЫюЯЫЫЫ   ЫЫЫЬ ЬЫЫЫЬ ЬЫЫЫ   ЯЫЫЫЫЫЯ           ',
'                                                                               ',
'                                                                               ',
'                                                                               ',
'                                                                               ',
'                                                                               ',
'                                                                               ',
'                                                                               ',
'                      ЬЬЬЬЬ   ЬЬЬЬЬ   ЬЬ    ЬЬЬЬЬ   ЬЬЬЬ ЬЬЬ                   ',
'                    ЬЫЫ   ЫЫЬ  ЮЫЫЭ   Ы   ЬЫЫ  ЮЫЫ   ЫЫЫЯЯЫЯ                   ',
'                    ЫЫЫ   ЫЫЫ   ЫЫЫЭ Ю    ЫЫЫЬЬЬЯЯ   ЫЫЫ                       ',
'                    ЫЫЫ   ЫЫЫ    ЫЫЫЬЭ    ЫЫЫ        ЫЫЫ                       ',
'                    ЯЫЫ   ЫЫЯ     ЫЫЯ     ЯЫЫЫЬЬЬЯ  ЮЫЫЫ                       ',
'                      ЯЯЯЯЯ        Я        ЯЯЯЯ    ЯЯЯЯЯ                      ',
'                                                                               ',
' Create by Sudilovsky Kostya 1999 (ЏЊ-14)                                      ');
}
procedure GenNew;
begin
  rotare:=1;
  if fignext=$ff then
  begin
    fignext:=random(7)+1;
    figcur:=random(7)+1;
  end else
  begin
    figcur:=fignext;
    fignext:=random(7)+1;
  end;
  x:=5;y:=0;
  DosSemSet(SemHandle);
  DosTimerAsync(trunc(15/level)*TIMER_MUL,SemHandle,TimerHandle);
end;

function MakeWord(H, L: Byte): Word; assembler;
asm
  mov ah, h
  mov al, L
end;
